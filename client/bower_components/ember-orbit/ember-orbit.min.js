define("ember-orbit",["ember-orbit/main","ember-orbit/store","ember-orbit/model","ember-orbit/record-array-manager","ember-orbit/schema","ember-orbit/source","ember-orbit/fields/key","ember-orbit/fields/attr","ember-orbit/fields/has-many","ember-orbit/fields/has-one","ember-orbit/links/has-many-array","ember-orbit/links/has-one-object","ember-orbit/links/link-proxy-mixin","ember-orbit/record-arrays/filtered-record-array","ember-orbit/record-arrays/record-array","exports"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";var q=a["default"],r=b["default"],s=c["default"],t=d["default"],u=e["default"],v=f["default"],w=g["default"],x=h["default"],y=i["default"],z=j["default"],A=k["default"],B=l["default"],C=m["default"],D=n["default"],E=o["default"];q.Store=r,q.Model=s,q.RecordArrayManager=t,q.Schema=u,q.Source=v,q.key=w,q.attr=x,q.hasOne=z,q.hasMany=y,q.HasManyArray=A,q.HasOneObject=B,q.LinkProxyMixin=C,q.FilteredRecordArray=D,q.RecordArray=E,p["default"]=q}),define("ember-orbit/fields/attr",["exports"],function(a){"use strict";var b=function(a,b){b=b||{},b.type=a;var c={options:b,isAttribute:!0};return Ember.computed(function(a,b){if(arguments.length>1){var c=this.getAttribute(a);return b!==c&&this.patch(a,b),b}return this.getAttribute(a)}).meta(c)};a["default"]=b}),define("ember-orbit/fields/has-many",["exports"],function(a){"use strict";var b=function(a,b){b=b||{},b.type="hasMany",b.model=a;var c={options:b,isLink:!0};return Ember.computed(function(a){return this.getLinks(a)}).meta(c).readOnly()};a["default"]=b}),define("ember-orbit/fields/has-one",["exports"],function(a){"use strict";var b=Ember.get,c=Ember.set,d=function(a,d){d=d||{},d.type="hasOne",d.model=a;var e={options:d,isLink:!0};return Ember.computed(function(a,d){var e=this.getLink(a);if(arguments.length>1){var f=b(e,"content");null===d&&(d=void 0),f!==d&&(void 0===d?this.removeLink(a,f):this.addLink(a,d),c(e,"content",d))}return e}).meta(e)};a["default"]=d}),define("ember-orbit/fields/key",["exports"],function(a){"use strict";var b=function(a,b){1===arguments.length&&"object"==typeof a&&(b=a,a=null),b=b||{},b.type=a||"string";var c={options:b,isKey:!0};return Ember.computed(function(a,b){if(arguments.length>1){var c=this.getKey(a);return b!==c&&this.patch(a,b),b}return this.getKey(a)}).meta(c)};a["default"]=b}),define("ember-orbit/links/has-many-array",["./../record-arrays/record-array","./link-proxy-mixin","exports"],function(a,b,c){"use strict";var d=a["default"],e=b["default"],f=Ember.get,g=(Ember.set,Ember.EnumerableUtils.forEach,d.extend(e,{arrayContentWillChange:function(a,b){for(var c,d,e=f(this,"store"),g=f(this,"_ownerType"),h=f(this,"_ownerId"),i=f(this,"_linkField"),j=f(this,"content"),k=a;a+b>k;k++)c=j.objectAt(k),d=c.primaryId,e.removeLink(g,h,i,d);return this._super.apply(this,arguments)},arrayContentDidChange:function(a,b,c){this._super.apply(this,arguments);for(var d,e,g=f(this,"store"),h=f(this,"_ownerType"),i=f(this,"_ownerId"),j=f(this,"_linkField"),k=f(this,"content"),l=a;a+c>l;l++)d=k.objectAt(l),e=d.primaryId,g.addLink(h,i,j,e)}}));c["default"]=g}),define("ember-orbit/links/has-one-object",["./link-proxy-mixin","exports"],function(a,b){"use strict";var c=a["default"],d=Ember.ObjectProxy.extend(c);b["default"]=d}),define("ember-orbit/links/link-proxy-mixin",["exports"],function(a){"use strict";var b=Ember.get,c=(Ember.set,Ember.Mixin.create({store:null,_ownerId:null,_ownerType:null,_linkField:null,reload:function(){var a=b(this,"store"),c=a.findLinked.call(a,b(this,"_ownerType"),b(this,"_ownerId"),b(this,"_linkField"));return c}}));a["default"]=c}),define("ember-orbit/main",["exports"],function(a){"use strict";var b={};a["default"]=b}),define("ember-orbit/model",["./links/has-one-object","./links/has-many-array","ember-orbit/fields/key","orbit/lib/uuid","exports"],function(a,b,c,d,e){"use strict";var f=a["default"],g=b["default"],h=c["default"],i=d.uuid,j=Ember.get,k=Ember.set,l=Ember.Object.extend(Ember.Evented,{primaryId:null,getKey:function(a){var b=j(this,"store"),c=this.constructor.primaryKey;if(c===a)return this.primaryId;var d=this.constructor.typeKey;return b.retrieveKey(d,this.primaryId,a)},getAttribute:function(a){var b=j(this,"store"),c=this.constructor.typeKey,d=j(this,"primaryId");return b.retrieveAttribute(c,d,a)},getLink:function(a){var b=j(this,"store"),c=this.constructor.typeKey,d=j(this,"primaryId"),e=b.retrieveLink(c,d,a)||null,g=f.create({content:e,store:b,_ownerId:d,_ownerType:c,_linkField:a});return this._assignLink(a,g),g},getLinks:function(a){var b=j(this,"store"),c=this.constructor.typeKey,d=j(this,"primaryId"),e=b.retrieveLinks(c,d,a)||Ember.A(),f=g.create({content:e,store:this.store,_ownerId:d,_ownerType:c,_linkField:a});return this._assignLink(a,f),f},patch:function(a,b){var c=j(this,"store"),d=this.constructor.typeKey;return c.patch(d,this.primaryId,a,b)},addLink:function(a,b){var c=j(this,"store"),d=this.constructor.typeKey,e=b?b.primaryId:null;return c.addLink(d,this.primaryId,a,e)},removeLink:function(a,b){var c=j(this,"store"),d=this.constructor.typeKey,e=b?b.primaryId:null;return c.removeLink(d,this.primaryId,a,e)},remove:function(){var a=j(this,"store"),b=this.constructor.typeKey;return a.remove(b,this.primaryId)},willDestroy:function(){this._super();var a=j(this,"store"),b=this.constructor.typeKey;a.unload(b,this.primaryId)},_assignLink:function(a,b){this._links=this._links||{},this._links[a]=b}}),m=l.create;l.reopenClass({_create:function(a,b){var c=m.call(this,{store:a});return k(c,"primaryId",b),c},create:function(){throw new Ember.Error("You should not call `create` on a model. Instead, call `store.add` with the attributes you would like to set.")},primaryKey:Ember.computed("keys",function(){if(arguments.length>1)throw new Ember.Error("You should not set `primaryKey` on a model. Instead, define a `key` with the options `{primaryKey: true, defaultValue: idGenerator}`.");var a=j(this,"keys"),b=Object.keys(a);for(var c in b){var d=b[c];if(a[d].primaryKey)return d}}),keys:Ember.computed(function(){var a,b={},c=this;if(c.eachComputedProperty(function(c,d){d.isKey&&(d.name=c,b[c]=d.options,d.options.primaryKey&&(a=c))}),!a){a="id";var d={primaryKey:!0,defaultValue:i};this.reopen({id:h(d)}),b.id=d}return b}),attributes:Ember.computed(function(){var a={};return this.eachComputedProperty(function(b,c){c.isAttribute&&(c.name=b,a[b]=c.options)}),a}),links:Ember.computed(function(){var a={};return this.eachComputedProperty(function(b,c){c.isLink&&(c.name=b,a[b]=c.options)}),a})}),e["default"]=l}),define("ember-orbit/record-array-manager",["./record-arrays/record-array","./record-arrays/filtered-record-array","exports"],function(a,b,c){"use strict";function d(a){for(var b=[],c=Ember.keys(a),d=0;d<c.length;d++)b.push(a[c[d]]);return b}function e(a){a.destroy()}function f(a){for(var b=a.length,c=Ember.A(),d=0;b>d;d++)c=c.concat(a[d]);return c}var g=a["default"],h=b["default"],i=Ember.get,j=(Ember.set,Ember.EnumerableUtils.forEach),k=Ember.Object.extend({init:function(){this.filteredRecordArrays=Ember.MapWithDefault.create({defaultValue:function(){return[]}}),this.changes=[]},recordDidChange:function(a,b){1===this.changes.push({record:a,operation:b})&&Ember.run.schedule("actions",this,this._processChanges)},_processChanges:function(){j(this.changes,function(a){this._processChange(a.record,a.operation)},this),this.changes.length=0},_processChange:function(a,b){{var c=b.path,d=b.op;b.value}if(2===c.length){if("add"===d)return void this._recordWasChanged(a);if("remove"===d)return void this._recordWasDeleted(a)}else{if(3===c.length||4===c.length)return void this._recordWasChanged(a);if(5===c.length){if("add"===d)return void this._linkWasAdded(a,c[3],c[4]);if("remove"===d)return void this._linkWasRemoved(a,c[3],c[4])}}console.log("!!!! unhandled change",c.length,b)},_recordWasDeleted:function(a){var b=a._recordArrays;b&&j(b,function(b){b.removeObject(a)}),a.destroy()},_recordWasChanged:function(a){var b,c=a.constructor.typeKey,d=this.filteredRecordArrays.get(c);d&&j(d,function(d){b=i(d,"filterFunction"),this.updateRecordArray(d,b,c,a)},this)},_linkWasAdded:function(a,b,c){var d=a.constructor.typeKey,e=i(this,"store"),f=i(e,"schema").linkProperties(d,b).model;if(f){var g=e.retrieve(f,c),h=i(a,b);h&&g&&h.addObject(g)}},_linkWasRemoved:function(a,b,c){var d=a.constructor.typeKey,e=i(this,"store"),f=i(e,"schema").linkProperties(d,b).model;if(f){var g=e.retrieve(f,c),h=i(a,b);h&&g&&h.removeObject(g)}},updateRecordArray:function(a,b,c,d){var e;e=b?b(d):!0,e?a.addObject(d):a.removeObject(d)},updateFilter:function(a,b,c){for(var d,e=this.store.retrieve(b),f=0,g=e.length;g>f;f++)d=e[f],i(d,"isDeleted")||this.updateRecordArray(a,c,b,d)},createRecordArray:function(a){var b=g.create({type:a,content:Ember.A(),store:this.store});return this.registerFilteredRecordArray(b,a),b},createFilteredRecordArray:function(a,b,c){var d=h.create({query:c,type:a,content:Ember.A(),store:this.store,manager:this,filterFunction:b});return this.registerFilteredRecordArray(d,a,b),d},registerFilteredRecordArray:function(a,b,c){var d=this.filteredRecordArrays.get(b);d.push(a),this.updateFilter(a,b,c)},willDestroy:function(){this._super(),f(d(this.filteredRecordArrays.values)).forEach(e)}});c["default"]=k}),define("ember-orbit/record-arrays/filtered-record-array",["./record-array","exports"],function(a,b){"use strict";var c=a["default"],d=Ember.get,e=c.extend({filterFunction:null,replace:function(){var a=d(this,"type").toString();throw new Error("The result of a client-side filter (on "+a+") is immutable.")},_updateFilter:function(){var a=d(this,"manager");a.updateFilter(this,d(this,"type"),d(this,"filterFunction"))},updateFilter:Ember.observer(function(){Ember.run.once(this,this._updateFilter)},"filterFunction")});b["default"]=e}),define("ember-orbit/record-arrays/record-array",["exports"],function(a){"use strict";var b=Ember.get,c=(Ember.set,Ember.EnumerableUtils.forEach),d=Ember.ArrayProxy.extend(Ember.Evented,{init:function(){this._super(),this._recordsAdded(b(this,"content"))},willDestroy:function(){this._recordsRemoved(b(this,"content")),this._super()},type:null,store:null,addObject:function(a){b(this,"content").addObject(a),this._recordAdded(a)},removeObject:function(a){b(this,"content").removeObject(a),this._recordRemoved(a)},_recordAdded:function(a){this._recordArraysForRecord(a).add(this)},_recordRemoved:function(a){this._recordArraysForRecord(a).remove(this)},_recordsAdded:function(a){c(a,function(a){this._recordAdded(a)},this)},_recordsRemoved:function(a){c(a,function(a){this._recordRemoved(a)},this)},_recordArraysForRecord:function(a){return a._recordArrays=a._recordArrays||Ember.OrderedSet.create(),a._recordArrays}});a["default"]=d}),define("ember-orbit/schema",["orbit-common/schema","ember-orbit/fields/key","orbit/lib/uuid","exports"],function(a,b,c,d){"use strict";var e=a["default"],f=(b["default"],c.uuid,Ember.get),g=function(a,b,c){var d="_"+b;return function(e,f){return arguments.length>1&&(this[d]=f,this[a]&&(this[a][b]=f)),this[d]||(this[d]=c),this[d]}.property()},h=Ember.Object.extend({pluralize:g("_schema","pluralize"),singularize:g("_schema","singularize"),init:function(){this._super.apply(this,arguments),this._modelTypeMap={};var a={modelDefaults:{}},b=this.get("pluralize");b&&(a.pluralize=b);var c=this.get("singularize");c&&(a.singularize=c),this._schema=new e(a)},defineModel:function(a,b){var c=this._schema.models;c[a]||this._schema.registerModel(a,{keys:f(b,"keys"),attributes:f(b,"attributes"),links:f(b,"links")})},modelFor:function(a){Ember.assert("`type` must be a string","string"==typeof a);var b=this._modelTypeMap[a];if(!b){if(b=this.container.lookupFactory("model:"+a),!b)throw new Ember.Error("No model was found for '"+a+"'");b.typeKey=a,this.defineModel(a,b),this._modelTypeMap[a]=b,this.links(a).forEach(function(b){this.modelFor(this.linkProperties(a,b).model)},this)}return b},models:function(){return Object.keys(this._schema.models)},primaryKey:function(a){return this._schema.models[a].primaryKey.name},primaryKeyProperties:function(a){return this._schema.models[a].primaryKey},keys:function(a){return Object.keys(this._schema.models[a].keys)},keyProperties:function(a,b){return this._schema.models[a].keys[b]},attributes:function(a){return Object.keys(this._schema.models[a].attributes)},attributeProperties:function(a,b){return this._schema.models[a].attributes[b]},links:function(a){return Object.keys(this._schema.models[a].links)},linkProperties:function(a,b){return this._schema.models[a].links[b]},normalize:function(a,b){this.links(a).forEach(function(a){b.__rel||(b.__rel={});var c=b[a];if(c){if(Ember.isArray(c)){var d=b.__rel[a]={};c.forEach(function(a){"object"==typeof a&&(a=a.primaryId),d[a]=!0})}else b.__rel[a]="object"==typeof c?c.primaryId:c;delete b[a]}}),this._schema.normalize(a,b)}});d["default"]=h}),define("ember-orbit/source",["./schema","orbit-common/source","exports"],function(a,b,c){"use strict";var d=(a["default"],b["default"]),e=Ember.get,f=Ember.set,g=Ember.Object.extend({orbitSourceClass:null,orbitSourceOptions:null,schema:null,init:function(){this._super.apply(this,arguments);var a=e(this,"orbitSourceClass");a&&a.wrappedFunction&&(a=a.wrappedFunction);var b=e(this,"schema");if(!b){var c=e(this,"container");b=c.lookup("schema:main"),f(this,"schema",b)}var g=e(b,"_schema"),h=e(this,"orbitSourceOptions");this.orbitSource=new a(g,h),Ember.assert("orbitSource must be an instance of an `OC.Source`",this.orbitSource instanceof d)}});c["default"]=g}),define("ember-orbit/store",["./source","./model","./record-array-manager","orbit-common/memory-source","exports"],function(a,b,c,d,e){"use strict";function f(a,b){return l.create({promise:k.cast(a,b)})}var g=a["default"],h=(b["default"],c["default"]),i=d["default"],j=Ember.get,k=(Ember.set,Ember.RSVP.Promise),l=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin),m=g.extend({orbitSourceClass:i,schema:null,init:function(){this._super.apply(this,arguments),this.typeMaps={},this.orbitSource.on("didTransform",this._didTransform,this),this._requests=Ember.OrderedSet.create(),this._recordArrayManager=h.create({store:this})},then:function(a,b){return Ember.RSVP.all(this._requests.toArray()).then(a,b)},willDestroy:function(){this.orbitSource.off("didTransform",this.didTransform,this),this._recordArrayManager.destroy(),this._super.apply(this,arguments)},typeMapFor:function(a){var b=this.typeMaps[a];return b?b:(b={records:{},type:a},this.typeMaps[a]=b,b)},transform:function(a){return this.orbitSource.transform(a)},all:function(a){this._verifyType(a);var b=this.typeMapFor(a),c=b.findAllCache;if(c)return c;var d=this._recordArrayManager.createRecordArray(a);return b.findAllCache=d,d},filter:function(a,b,c){this._verifyType(a);var d,e,g=arguments.length,h=3===g;return h?d=this.find(a,b):2===g&&(c=b),e=h?this._recordArrayManager.createFilteredRecordArray(a,c,b):this._recordArrayManager.createFilteredRecordArray(a,c),d=d||k.cast(e),f(d.then(function(){return e},null,"OE: Store#filter of "+a))},find:function(a,b){var c=this;this._verifyType(a);var d=this.orbitSource.find(a,b).then(function(b){return c._lookupFromData(a,b)});return this._request(d)},add:function(a,b){var c=this;this._verifyType(a),b=b||{},j(this,"schema").normalize(a,b);var d=this.orbitSource.add(a,b).then(function(b){return c._lookupFromData(a,b)});return this._request(d)},remove:function(a,b){this._verifyType(a),b=this._normalizeId(b);var c=this.orbitSource.remove(a,b);return this._request(c)},patch:function(a,b,c,d){this._verifyType(a),b=this._normalizeId(b);var e=this.orbitSource.patch(a,b,c,d);return this._request(e)},addLink:function(a,b,c,d){this._verifyType(a),b=this._normalizeId(b),d=this._normalizeId(d);var e=this.orbitSource.addLink(a,b,c,d);return this._request(e)},removeLink:function(a,b,c,d){this._verifyType(a),b=this._normalizeId(b),d=this._normalizeId(d);var e=this.orbitSource.removeLink(a,b,c,d);return this._request(e)},findLink:function(a,b,c){var d=this;this._verifyType(a),b=this._normalizeId(b);var e=j(this,"schema").linkProperties(a,c).model;this._verifyType(e);var f=this.orbitSource.findLink(a,b,c).then(function(a){return d._lookupFromData(e,a)});return this._request(f)},findLinked:function(a,b,c){var d=this;this._verifyType(a),b=this._normalizeId(b);var e=j(this,"schema").linkProperties(a,c).model;this._verifyType(e);var f=this.orbitSource.findLinked(a,b,c).then(function(a){return d._lookupFromData(e,a)});return this._request(f)},retrieve:function(a,b){this._verifyType(a);var c;return 1===arguments.length?c=Object.keys(this.orbitSource.retrieve([a])):Ember.isArray(b)&&(c=b),c?this._lookupRecords(a,c):(b=this._normalizeId(b),this.orbitSource.retrieve([a,b])?this._lookupRecord(a,b):void 0)},retrieveKey:function(a,b,c){return this._verifyType(a),b=this._normalizeId(b),this.orbitSource.retrieve([a,b,c])},retrieveAttribute:function(a,b,c){return this._verifyType(a),b=this._normalizeId(b),this.orbitSource.retrieve([a,b,c])},retrieveLink:function(a,b,c){this._verifyType(a),b=this._normalizeId(b);var d=j(this,"schema").linkProperties(a,c).model;this._verifyType(d);var e=this.orbitSource.retrieve([a,b,"__rel",c]);return d&&e?this.retrieve(d,e):void 0},retrieveLinks:function(a,b,c){this._verifyType(a),b=this._normalizeId(b);var d=j(this,"schema").linkProperties(a,c).model;this._verifyType(d);var e=Object.keys(this.orbitSource.retrieve([a,b,"__rel",c]));return d&&Ember.isArray(e)&&e.length>0?this.retrieve(d,e):void 0},unload:function(a,b){this._verifyType(a),b=this._normalizeId(b);var c=this.typeMapFor(a);delete c.records[b]},_verifyType:function(a){Ember.assert("`type` must be registered as a model in the container",j(this,"schema").modelFor(a))},_didTransform:function(a){var b=(a.op,a.path),c=(a.value,this._lookupRecord(b[0],b[1]));if(3===b.length)c.propertyDidChange(b[2]);else if(4===b.length){var d=b[3],e=this.retrieveLink(b[0],b[1],d);c.set(d,e)}this._recordArrayManager.recordDidChange(c,a)},_lookupRecord:function(a,b){var c=this.typeMapFor(a);b=this._normalizeId(b);var d=c.records[b];if(void 0===d){var e=j(this,"schema").modelFor(a);d=e._create(this,b),c.records[b]=d}return d},_lookupRecords:function(a,b){var c=this;return b.map(function(b){return c._lookupRecord(a,b)})},_lookupFromData:function(a,b){if(Ember.isNone(b))return null;var c=j(this,"schema").primaryKey(a);if(Ember.isArray(b)){var d=b.map(function(a){return a[c]});return this._lookupRecords(a,d)}return this._lookupRecord(a,b[c])},_request:function(a){var b=this._requests;return b.add(a),a.finally(function(){b.remove(a)})},_normalizeId:function(a){return null!==a&&"object"==typeof a?a.primaryId:a}});e["default"]=m}),define("ember-orbit",["ember-orbit/main","ember-orbit/store","ember-orbit/model","ember-orbit/record-array-manager","ember-orbit/schema","ember-orbit/source","ember-orbit/fields/key","ember-orbit/fields/attr","ember-orbit/fields/has-many","ember-orbit/fields/has-one","ember-orbit/links/has-many-array","ember-orbit/links/has-one-object","ember-orbit/links/link-proxy-mixin","ember-orbit/record-arrays/filtered-record-array","ember-orbit/record-arrays/record-array","exports"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";var q=a["default"],r=b["default"],s=c["default"],t=d["default"],u=e["default"],v=f["default"],w=g["default"],x=h["default"],y=i["default"],z=j["default"],A=k["default"],B=l["default"],C=m["default"],D=n["default"],E=o["default"];q.Store=r,q.Model=s,q.RecordArrayManager=t,q.Schema=u,q.Source=v,q.key=w,q.attr=x,q.hasOne=z,q.hasMany=y,q.HasManyArray=A,q.HasOneObject=B,q.LinkProxyMixin=C,q.FilteredRecordArray=D,q.RecordArray=E,p["default"]=q}),define("ember-orbit/fields/attr",["exports"],function(a){"use strict";var b=function(a,b){b=b||{},b.type=a;var c={options:b,isAttribute:!0};return Ember.computed(function(a,b){if(arguments.length>1){var c=this.getAttribute(a);return b!==c&&this.patch(a,b),b}return this.getAttribute(a)}).meta(c)};a["default"]=b}),define("ember-orbit/fields/has-many",["exports"],function(a){"use strict";var b=function(a,b){b=b||{},b.type="hasMany",b.model=a;var c={options:b,isLink:!0};return Ember.computed(function(a){return this.getLinks(a)}).meta(c).readOnly()};a["default"]=b}),define("ember-orbit/fields/has-one",["exports"],function(a){"use strict";var b=Ember.get,c=Ember.set,d=function(a,d){d=d||{},d.type="hasOne",d.model=a;var e={options:d,isLink:!0};return Ember.computed(function(a,d){var e=this.getLink(a);if(arguments.length>1){var f=b(e,"content");null===d&&(d=void 0),f!==d&&(void 0===d?this.removeLink(a,f):this.addLink(a,d),c(e,"content",d))}return e}).meta(e)};a["default"]=d}),define("ember-orbit/fields/key",["exports"],function(a){"use strict";var b=function(a,b){1===arguments.length&&"object"==typeof a&&(b=a,a=null),b=b||{},b.type=a||"string";var c={options:b,isKey:!0};return Ember.computed(function(a,b){if(arguments.length>1){var c=this.getKey(a);return b!==c&&this.patch(a,b),b}return this.getKey(a)}).meta(c)};a["default"]=b}),define("ember-orbit/links/has-many-array",["./../record-arrays/record-array","./link-proxy-mixin","exports"],function(a,b,c){"use strict";var d=a["default"],e=b["default"],f=Ember.get,g=(Ember.set,Ember.EnumerableUtils.forEach,d.extend(e,{arrayContentWillChange:function(a,b){for(var c,d,e=f(this,"store"),g=f(this,"_ownerType"),h=f(this,"_ownerId"),i=f(this,"_linkField"),j=f(this,"content"),k=a;a+b>k;k++)c=j.objectAt(k),d=c.primaryId,e.removeLink(g,h,i,d);return this._super.apply(this,arguments)},arrayContentDidChange:function(a,b,c){this._super.apply(this,arguments);for(var d,e,g=f(this,"store"),h=f(this,"_ownerType"),i=f(this,"_ownerId"),j=f(this,"_linkField"),k=f(this,"content"),l=a;a+c>l;l++)d=k.objectAt(l),e=d.primaryId,g.addLink(h,i,j,e)}}));c["default"]=g}),define("ember-orbit/links/has-one-object",["./link-proxy-mixin","exports"],function(a,b){"use strict";var c=a["default"],d=Ember.ObjectProxy.extend(c);b["default"]=d}),define("ember-orbit/links/link-proxy-mixin",["exports"],function(a){"use strict";var b=Ember.get,c=(Ember.set,Ember.Mixin.create({store:null,_ownerId:null,_ownerType:null,_linkField:null,reload:function(){var a=b(this,"store"),c=a.findLinked.call(a,b(this,"_ownerType"),b(this,"_ownerId"),b(this,"_linkField"));return c}}));a["default"]=c}),define("ember-orbit/main",["exports"],function(a){"use strict";var b={};a["default"]=b}),define("ember-orbit/model",["./links/has-one-object","./links/has-many-array","ember-orbit/fields/key","orbit/lib/uuid","exports"],function(a,b,c,d,e){"use strict";var f=a["default"],g=b["default"],h=c["default"],i=d.uuid,j=Ember.get,k=Ember.set,l=Ember.Object.extend(Ember.Evented,{primaryId:null,getKey:function(a){var b=j(this,"store"),c=this.constructor.primaryKey;if(c===a)return this.primaryId;var d=this.constructor.typeKey;return b.retrieveKey(d,this.primaryId,a)},getAttribute:function(a){var b=j(this,"store"),c=this.constructor.typeKey,d=j(this,"primaryId");return b.retrieveAttribute(c,d,a)},getLink:function(a){var b=j(this,"store"),c=this.constructor.typeKey,d=j(this,"primaryId"),e=b.retrieveLink(c,d,a)||null,g=f.create({content:e,store:b,_ownerId:d,_ownerType:c,_linkField:a});return this._assignLink(a,g),g},getLinks:function(a){var b=j(this,"store"),c=this.constructor.typeKey,d=j(this,"primaryId"),e=b.retrieveLinks(c,d,a)||Ember.A(),f=g.create({content:e,store:this.store,_ownerId:d,_ownerType:c,_linkField:a});return this._assignLink(a,f),f},patch:function(a,b){var c=j(this,"store"),d=this.constructor.typeKey;return c.patch(d,this.primaryId,a,b)},addLink:function(a,b){var c=j(this,"store"),d=this.constructor.typeKey,e=b?b.primaryId:null;return c.addLink(d,this.primaryId,a,e)},removeLink:function(a,b){var c=j(this,"store"),d=this.constructor.typeKey,e=b?b.primaryId:null;return c.removeLink(d,this.primaryId,a,e)},remove:function(){var a=j(this,"store"),b=this.constructor.typeKey;return a.remove(b,this.primaryId)},willDestroy:function(){this._super();var a=j(this,"store"),b=this.constructor.typeKey;a.unload(b,this.primaryId)},_assignLink:function(a,b){this._links=this._links||{},this._links[a]=b}}),m=l.create;l.reopenClass({_create:function(a,b){var c=m.call(this,{store:a});return k(c,"primaryId",b),c},create:function(){throw new Ember.Error("You should not call `create` on a model. Instead, call `store.add` with the attributes you would like to set.")},primaryKey:Ember.computed("keys",function(){if(arguments.length>1)throw new Ember.Error("You should not set `primaryKey` on a model. Instead, define a `key` with the options `{primaryKey: true, defaultValue: idGenerator}`.");var a=j(this,"keys"),b=Object.keys(a);for(var c in b){var d=b[c];if(a[d].primaryKey)return d}}),keys:Ember.computed(function(){var a,b={},c=this;if(c.eachComputedProperty(function(c,d){d.isKey&&(d.name=c,b[c]=d.options,d.options.primaryKey&&(a=c))}),!a){a="id";var d={primaryKey:!0,defaultValue:i};this.reopen({id:h(d)}),b.id=d}return b}),attributes:Ember.computed(function(){var a={};return this.eachComputedProperty(function(b,c){c.isAttribute&&(c.name=b,a[b]=c.options)}),a}),links:Ember.computed(function(){var a={};return this.eachComputedProperty(function(b,c){c.isLink&&(c.name=b,a[b]=c.options)}),a})}),e["default"]=l}),define("ember-orbit/record-array-manager",["./record-arrays/record-array","./record-arrays/filtered-record-array","exports"],function(a,b,c){"use strict";function d(a){for(var b=[],c=Ember.keys(a),d=0;d<c.length;d++)b.push(a[c[d]]);return b}function e(a){a.destroy()}function f(a){for(var b=a.length,c=Ember.A(),d=0;b>d;d++)c=c.concat(a[d]);return c}var g=a["default"],h=b["default"],i=Ember.get,j=(Ember.set,Ember.EnumerableUtils.forEach),k=Ember.Object.extend({init:function(){this.filteredRecordArrays=Ember.MapWithDefault.create({defaultValue:function(){return[]}}),this.changes=[]},recordDidChange:function(a,b){1===this.changes.push({record:a,operation:b})&&Ember.run.schedule("actions",this,this._processChanges)},_processChanges:function(){j(this.changes,function(a){this._processChange(a.record,a.operation)},this),this.changes.length=0},_processChange:function(a,b){var c=b.path,d=b.op;if(b.value,2===c.length){if("add"===d)return void this._recordWasChanged(a);if("remove"===d)return void this._recordWasDeleted(a)}else{if(3===c.length||4===c.length)return void this._recordWasChanged(a);if(5===c.length){if("add"===d)return void this._linkWasAdded(a,c[3],c[4]);if("remove"===d)return void this._linkWasRemoved(a,c[3],c[4])}}console.log("!!!! unhandled change",c.length,b)},_recordWasDeleted:function(a){var b=a._recordArrays;b&&j(b,function(b){b.removeObject(a)}),a.destroy()},_recordWasChanged:function(a){var b,c=a.constructor.typeKey,d=this.filteredRecordArrays.get(c);d&&j(d,function(d){b=i(d,"filterFunction"),this.updateRecordArray(d,b,c,a)},this)},_linkWasAdded:function(a,b,c){var d=a.constructor.typeKey,e=i(this,"store"),f=i(e,"schema").linkProperties(d,b).model;if(f){var g=e.retrieve(f,c),h=i(a,b);h&&g&&h.addObject(g)}},_linkWasRemoved:function(a,b,c){var d=a.constructor.typeKey,e=i(this,"store"),f=i(e,"schema").linkProperties(d,b).model;if(f){var g=e.retrieve(f,c),h=i(a,b);h&&g&&h.removeObject(g)}},updateRecordArray:function(a,b,c,d){var e;e=b?b(d):!0,e?a.addObject(d):a.removeObject(d)},updateFilter:function(a,b,c){for(var d,e=this.store.retrieve(b),f=0,g=e.length;g>f;f++)d=e[f],i(d,"isDeleted")||this.updateRecordArray(a,c,b,d)},createRecordArray:function(a){var b=g.create({type:a,content:Ember.A(),store:this.store});return this.registerFilteredRecordArray(b,a),b},createFilteredRecordArray:function(a,b,c){var d=h.create({query:c,type:a,content:Ember.A(),store:this.store,manager:this,filterFunction:b});return this.registerFilteredRecordArray(d,a,b),d},registerFilteredRecordArray:function(a,b,c){var d=this.filteredRecordArrays.get(b);d.push(a),this.updateFilter(a,b,c)},willDestroy:function(){this._super(),f(d(this.filteredRecordArrays.values)).forEach(e)}});c["default"]=k}),define("ember-orbit/record-arrays/filtered-record-array",["./record-array","exports"],function(a,b){"use strict";var c=a["default"],d=Ember.get,e=c.extend({filterFunction:null,replace:function(){var a=d(this,"type").toString();throw new Error("The result of a client-side filter (on "+a+") is immutable.")},_updateFilter:function(){var a=d(this,"manager");a.updateFilter(this,d(this,"type"),d(this,"filterFunction"))},updateFilter:Ember.observer(function(){Ember.run.once(this,this._updateFilter)},"filterFunction")});b["default"]=e}),define("ember-orbit/record-arrays/record-array",["exports"],function(a){"use strict";var b=Ember.get,c=(Ember.set,Ember.EnumerableUtils.forEach),d=Ember.ArrayProxy.extend(Ember.Evented,{init:function(){this._super(),this._recordsAdded(b(this,"content"))},willDestroy:function(){this._recordsRemoved(b(this,"content")),this._super()},type:null,store:null,addObject:function(a){b(this,"content").addObject(a),this._recordAdded(a)},removeObject:function(a){b(this,"content").removeObject(a),this._recordRemoved(a)},_recordAdded:function(a){this._recordArraysForRecord(a).add(this)},_recordRemoved:function(a){this._recordArraysForRecord(a).remove(this)},_recordsAdded:function(a){c(a,function(a){this._recordAdded(a)},this)},_recordsRemoved:function(a){c(a,function(a){this._recordRemoved(a)},this)},_recordArraysForRecord:function(a){return a._recordArrays=a._recordArrays||Ember.OrderedSet.create(),a._recordArrays}});a["default"]=d}),define("ember-orbit/schema",["orbit-common/schema","ember-orbit/fields/key","orbit/lib/uuid","exports"],function(a,b,c,d){"use strict";var e=a["default"],f=(b["default"],c.uuid,Ember.get),g=function(a,b,c){var d="_"+b;return function(e,f){return arguments.length>1&&(this[d]=f,this[a]&&(this[a][b]=f)),this[d]||(this[d]=c),this[d]}.property()},h=Ember.Object.extend({pluralize:g("_schema","pluralize"),singularize:g("_schema","singularize"),init:function(){this._super.apply(this,arguments),this._modelTypeMap={};var a={modelDefaults:{}},b=this.get("pluralize");b&&(a.pluralize=b);var c=this.get("singularize");c&&(a.singularize=c),this._schema=new e(a)},defineModel:function(a,b){var c=this._schema.models;c[a]||this._schema.registerModel(a,{keys:f(b,"keys"),attributes:f(b,"attributes"),links:f(b,"links")})},modelFor:function(a){Ember.assert("`type` must be a string","string"==typeof a);var b=this._modelTypeMap[a];if(!b){if(b=this.container.lookupFactory("model:"+a),!b)throw new Ember.Error("No model was found for '"+a+"'");b.typeKey=a,this.defineModel(a,b),this._modelTypeMap[a]=b,this.links(a).forEach(function(b){this.modelFor(this.linkProperties(a,b).model)},this)}return b},models:function(){return Object.keys(this._schema.models)},primaryKey:function(a){return this._schema.models[a].primaryKey.name},primaryKeyProperties:function(a){return this._schema.models[a].primaryKey},keys:function(a){return Object.keys(this._schema.models[a].keys)},keyProperties:function(a,b){return this._schema.models[a].keys[b]},attributes:function(a){return Object.keys(this._schema.models[a].attributes)},attributeProperties:function(a,b){return this._schema.models[a].attributes[b]},links:function(a){return Object.keys(this._schema.models[a].links)},linkProperties:function(a,b){return this._schema.models[a].links[b]},normalize:function(a,b){this.links(a).forEach(function(a){b.__rel||(b.__rel={});var c=b[a];if(c){if(Ember.isArray(c)){var d=b.__rel[a]={};c.forEach(function(a){"object"==typeof a&&(a=a.primaryId),d[a]=!0})}else b.__rel[a]="object"==typeof c?c.primaryId:c;delete b[a]}}),this._schema.normalize(a,b)}});d["default"]=h}),define("ember-orbit/source",["./schema","orbit-common/source","exports"],function(a,b,c){"use strict";var d=(a["default"],b["default"]),e=Ember.get,f=Ember.set,g=Ember.Object.extend({orbitSourceClass:null,orbitSourceOptions:null,schema:null,init:function(){this._super.apply(this,arguments);var a=e(this,"orbitSourceClass");a&&a.wrappedFunction&&(a=a.wrappedFunction);var b=e(this,"schema");if(!b){var c=e(this,"container");b=c.lookup("schema:main"),f(this,"schema",b)}var g=e(b,"_schema"),h=e(this,"orbitSourceOptions");
this.orbitSource=new a(g,h),Ember.assert("orbitSource must be an instance of an `OC.Source`",this.orbitSource instanceof d)}});c["default"]=g}),define("ember-orbit/store",["./source","./model","./record-array-manager","orbit-common/memory-source","exports"],function(a,b,c,d,e){"use strict";function f(a,b){return l.create({promise:k.cast(a,b)})}var g=a["default"],h=(b["default"],c["default"]),i=d["default"],j=Ember.get,k=(Ember.set,Ember.RSVP.Promise),l=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin),m=g.extend({orbitSourceClass:i,schema:null,init:function(){this._super.apply(this,arguments),this.typeMaps={},this.orbitSource.on("didTransform",this._didTransform,this),this._requests=Ember.OrderedSet.create(),this._recordArrayManager=h.create({store:this})},then:function(a,b){return Ember.RSVP.all(this._requests.toArray()).then(a,b)},willDestroy:function(){this.orbitSource.off("didTransform",this.didTransform,this),this._recordArrayManager.destroy(),this._super.apply(this,arguments)},typeMapFor:function(a){var b=this.typeMaps[a];return b?b:(b={records:{},type:a},this.typeMaps[a]=b,b)},transform:function(a){return this.orbitSource.transform(a)},all:function(a){this._verifyType(a);var b=this.typeMapFor(a),c=b.findAllCache;if(c)return c;var d=this._recordArrayManager.createRecordArray(a);return b.findAllCache=d,d},filter:function(a,b,c){this._verifyType(a);var d,e,g=arguments.length,h=3===g;return h?d=this.find(a,b):2===g&&(c=b),e=h?this._recordArrayManager.createFilteredRecordArray(a,c,b):this._recordArrayManager.createFilteredRecordArray(a,c),d=d||k.cast(e),f(d.then(function(){return e},null,"OE: Store#filter of "+a))},find:function(a,b){var c=this;this._verifyType(a);var d=this.orbitSource.find(a,b).then(function(b){return c._lookupFromData(a,b)});return this._request(d)},add:function(a,b){var c=this;this._verifyType(a),b=b||{},j(this,"schema").normalize(a,b);var d=this.orbitSource.add(a,b).then(function(b){return c._lookupFromData(a,b)});return this._request(d)},remove:function(a,b){this._verifyType(a),b=this._normalizeId(b);var c=this.orbitSource.remove(a,b);return this._request(c)},patch:function(a,b,c,d){this._verifyType(a),b=this._normalizeId(b);var e=this.orbitSource.patch(a,b,c,d);return this._request(e)},addLink:function(a,b,c,d){this._verifyType(a),b=this._normalizeId(b),d=this._normalizeId(d);var e=this.orbitSource.addLink(a,b,c,d);return this._request(e)},removeLink:function(a,b,c,d){this._verifyType(a),b=this._normalizeId(b),d=this._normalizeId(d);var e=this.orbitSource.removeLink(a,b,c,d);return this._request(e)},findLink:function(a,b,c){var d=this;this._verifyType(a),b=this._normalizeId(b);var e=j(this,"schema").linkProperties(a,c).model;this._verifyType(e);var f=this.orbitSource.findLink(a,b,c).then(function(a){return d._lookupFromData(e,a)});return this._request(f)},findLinked:function(a,b,c){var d=this;this._verifyType(a),b=this._normalizeId(b);var e=j(this,"schema").linkProperties(a,c).model;this._verifyType(e);var f=this.orbitSource.findLinked(a,b,c).then(function(a){return d._lookupFromData(e,a)});return this._request(f)},retrieve:function(a,b){this._verifyType(a);var c;return 1===arguments.length?c=Object.keys(this.orbitSource.retrieve([a])):Ember.isArray(b)&&(c=b),c?this._lookupRecords(a,c):(b=this._normalizeId(b),this.orbitSource.retrieve([a,b])?this._lookupRecord(a,b):void 0)},retrieveKey:function(a,b,c){return this._verifyType(a),b=this._normalizeId(b),this.orbitSource.retrieve([a,b,c])},retrieveAttribute:function(a,b,c){return this._verifyType(a),b=this._normalizeId(b),this.orbitSource.retrieve([a,b,c])},retrieveLink:function(a,b,c){this._verifyType(a),b=this._normalizeId(b);var d=j(this,"schema").linkProperties(a,c).model;this._verifyType(d);var e=this.orbitSource.retrieve([a,b,"__rel",c]);return d&&e?this.retrieve(d,e):void 0},retrieveLinks:function(a,b,c){this._verifyType(a),b=this._normalizeId(b);var d=j(this,"schema").linkProperties(a,c).model;this._verifyType(d);var e=Object.keys(this.orbitSource.retrieve([a,b,"__rel",c]));return d&&Ember.isArray(e)&&e.length>0?this.retrieve(d,e):void 0},unload:function(a,b){this._verifyType(a),b=this._normalizeId(b);var c=this.typeMapFor(a);delete c.records[b]},_verifyType:function(a){Ember.assert("`type` must be registered as a model in the container",j(this,"schema").modelFor(a))},_didTransform:function(a){var b=(a.op,a.path),c=(a.value,this._lookupRecord(b[0],b[1]));if(3===b.length)c.propertyDidChange(b[2]);else if(4===b.length){var d=b[3],e=this.retrieveLink(b[0],b[1],d);c.set(d,e)}this._recordArrayManager.recordDidChange(c,a)},_lookupRecord:function(a,b){var c=this.typeMapFor(a);b=this._normalizeId(b);var d=c.records[b];if(void 0===d){var e=j(this,"schema").modelFor(a);d=e._create(this,b),c.records[b]=d}return d},_lookupRecords:function(a,b){var c=this;return b.map(function(b){return c._lookupRecord(a,b)})},_lookupFromData:function(a,b){if(Ember.isNone(b))return null;var c=j(this,"schema").primaryKey(a);if(Ember.isArray(b)){var d=b.map(function(a){return a[c]});return this._lookupRecords(a,d)}return this._lookupRecord(a,b[c])},_request:function(a){var b=this._requests;return b.add(a),a.finally(function(){b.remove(a)})},_normalizeId:function(a){return null!==a&&"object"==typeof a?a.primaryId:a}});e["default"]=m}),function(a){var b=a.Orbit.__defineModule__,c=a.Orbit.__requireModule__;b("ember-orbit",["ember-orbit/main","ember-orbit/store","ember-orbit/model","ember-orbit/record-array-manager","ember-orbit/schema","ember-orbit/source","ember-orbit/fields/key","ember-orbit/fields/attr","ember-orbit/fields/has-many","ember-orbit/fields/has-one","ember-orbit/links/has-many-array","ember-orbit/links/has-one-object","ember-orbit/links/link-proxy-mixin","ember-orbit/record-arrays/filtered-record-array","ember-orbit/record-arrays/record-array","exports"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";var q=a["default"],r=b["default"],s=c["default"],t=d["default"],u=e["default"],v=f["default"],w=g["default"],x=h["default"],y=i["default"],z=j["default"],A=k["default"],B=l["default"],C=m["default"],D=n["default"],E=o["default"];q.Store=r,q.Model=s,q.RecordArrayManager=t,q.Schema=u,q.Source=v,q.key=w,q.attr=x,q.hasOne=z,q.hasMany=y,q.HasManyArray=A,q.HasOneObject=B,q.LinkProxyMixin=C,q.FilteredRecordArray=D,q.RecordArray=E,p["default"]=q}),b("ember-orbit/fields/attr",["exports"],function(a){"use strict";var b=function(a,b){b=b||{},b.type=a;var c={options:b,isAttribute:!0};return Ember.computed(function(a,b){if(arguments.length>1){var c=this.getAttribute(a);return b!==c&&this.patch(a,b),b}return this.getAttribute(a)}).meta(c)};a["default"]=b}),b("ember-orbit/fields/has-many",["exports"],function(a){"use strict";var b=function(a,b){b=b||{},b.type="hasMany",b.model=a;var c={options:b,isLink:!0};return Ember.computed(function(a){return this.getLinks(a)}).meta(c).readOnly()};a["default"]=b}),b("ember-orbit/fields/has-one",["exports"],function(a){"use strict";var b=Ember.get,c=Ember.set,d=function(a,d){d=d||{},d.type="hasOne",d.model=a;var e={options:d,isLink:!0};return Ember.computed(function(a,d){var e=this.getLink(a);if(arguments.length>1){var f=b(e,"content");null===d&&(d=void 0),f!==d&&(void 0===d?this.removeLink(a,f):this.addLink(a,d),c(e,"content",d))}return e}).meta(e)};a["default"]=d}),b("ember-orbit/fields/key",["exports"],function(a){"use strict";var b=function(a,b){1===arguments.length&&"object"==typeof a&&(b=a,a=null),b=b||{},b.type=a||"string";var c={options:b,isKey:!0};return Ember.computed(function(a,b){if(arguments.length>1){var c=this.getKey(a);return b!==c&&this.patch(a,b),b}return this.getKey(a)}).meta(c)};a["default"]=b}),b("ember-orbit/links/has-many-array",["./../record-arrays/record-array","./link-proxy-mixin","exports"],function(a,b,c){"use strict";var d=a["default"],e=b["default"],f=Ember.get,g=(Ember.set,Ember.EnumerableUtils.forEach,d.extend(e,{arrayContentWillChange:function(a,b){for(var c,d,e=f(this,"store"),g=f(this,"_ownerType"),h=f(this,"_ownerId"),i=f(this,"_linkField"),j=f(this,"content"),k=a;a+b>k;k++)c=j.objectAt(k),d=c.primaryId,e.removeLink(g,h,i,d);return this._super.apply(this,arguments)},arrayContentDidChange:function(a,b,c){this._super.apply(this,arguments);for(var d,e,g=f(this,"store"),h=f(this,"_ownerType"),i=f(this,"_ownerId"),j=f(this,"_linkField"),k=f(this,"content"),l=a;a+c>l;l++)d=k.objectAt(l),e=d.primaryId,g.addLink(h,i,j,e)}}));c["default"]=g}),b("ember-orbit/links/has-one-object",["./link-proxy-mixin","exports"],function(a,b){"use strict";var c=a["default"],d=Ember.ObjectProxy.extend(c);b["default"]=d}),b("ember-orbit/links/link-proxy-mixin",["exports"],function(a){"use strict";var b=Ember.get,c=(Ember.set,Ember.Mixin.create({store:null,_ownerId:null,_ownerType:null,_linkField:null,reload:function(){var a=b(this,"store"),c=a.findLinked.call(a,b(this,"_ownerType"),b(this,"_ownerId"),b(this,"_linkField"));return c}}));a["default"]=c}),b("ember-orbit/main",["exports"],function(a){"use strict";var b={};a["default"]=b}),b("ember-orbit/model",["./links/has-one-object","./links/has-many-array","ember-orbit/fields/key","orbit/lib/uuid","exports"],function(a,b,c,d,e){"use strict";var f=a["default"],g=b["default"],h=c["default"],i=d.uuid,j=Ember.get,k=Ember.set,l=Ember.Object.extend(Ember.Evented,{primaryId:null,getKey:function(a){var b=j(this,"store"),c=this.constructor.primaryKey;if(c===a)return this.primaryId;var d=this.constructor.typeKey;return b.retrieveKey(d,this.primaryId,a)},getAttribute:function(a){var b=j(this,"store"),c=this.constructor.typeKey,d=j(this,"primaryId");return b.retrieveAttribute(c,d,a)},getLink:function(a){var b=j(this,"store"),c=this.constructor.typeKey,d=j(this,"primaryId"),e=b.retrieveLink(c,d,a)||null,g=f.create({content:e,store:b,_ownerId:d,_ownerType:c,_linkField:a});return this._assignLink(a,g),g},getLinks:function(a){var b=j(this,"store"),c=this.constructor.typeKey,d=j(this,"primaryId"),e=b.retrieveLinks(c,d,a)||Ember.A(),f=g.create({content:e,store:this.store,_ownerId:d,_ownerType:c,_linkField:a});return this._assignLink(a,f),f},patch:function(a,b){var c=j(this,"store"),d=this.constructor.typeKey;return c.patch(d,this.primaryId,a,b)},addLink:function(a,b){var c=j(this,"store"),d=this.constructor.typeKey,e=b?b.primaryId:null;return c.addLink(d,this.primaryId,a,e)},removeLink:function(a,b){var c=j(this,"store"),d=this.constructor.typeKey,e=b?b.primaryId:null;return c.removeLink(d,this.primaryId,a,e)},remove:function(){var a=j(this,"store"),b=this.constructor.typeKey;return a.remove(b,this.primaryId)},willDestroy:function(){this._super();var a=j(this,"store"),b=this.constructor.typeKey;a.unload(b,this.primaryId)},_assignLink:function(a,b){this._links=this._links||{},this._links[a]=b}}),m=l.create;l.reopenClass({_create:function(a,b){var c=m.call(this,{store:a});return k(c,"primaryId",b),c},create:function(){throw new Ember.Error("You should not call `create` on a model. Instead, call `store.add` with the attributes you would like to set.")},primaryKey:Ember.computed("keys",function(){if(arguments.length>1)throw new Ember.Error("You should not set `primaryKey` on a model. Instead, define a `key` with the options `{primaryKey: true, defaultValue: idGenerator}`.");var a=j(this,"keys"),b=Object.keys(a);for(var c in b){var d=b[c];if(a[d].primaryKey)return d}}),keys:Ember.computed(function(){var a,b={},c=this;if(c.eachComputedProperty(function(c,d){d.isKey&&(d.name=c,b[c]=d.options,d.options.primaryKey&&(a=c))}),!a){a="id";var d={primaryKey:!0,defaultValue:i};this.reopen({id:h(d)}),b.id=d}return b}),attributes:Ember.computed(function(){var a={};return this.eachComputedProperty(function(b,c){c.isAttribute&&(c.name=b,a[b]=c.options)}),a}),links:Ember.computed(function(){var a={};return this.eachComputedProperty(function(b,c){c.isLink&&(c.name=b,a[b]=c.options)}),a})}),e["default"]=l}),b("ember-orbit/record-array-manager",["./record-arrays/record-array","./record-arrays/filtered-record-array","exports"],function(a,b,c){"use strict";function d(a){for(var b=[],c=Ember.keys(a),d=0;d<c.length;d++)b.push(a[c[d]]);return b}function e(a){a.destroy()}function f(a){for(var b=a.length,c=Ember.A(),d=0;b>d;d++)c=c.concat(a[d]);return c}var g=a["default"],h=b["default"],i=Ember.get,j=(Ember.set,Ember.EnumerableUtils.forEach),k=Ember.Object.extend({init:function(){this.filteredRecordArrays=Ember.MapWithDefault.create({defaultValue:function(){return[]}}),this.changes=[]},recordDidChange:function(a,b){1===this.changes.push({record:a,operation:b})&&Ember.run.schedule("actions",this,this._processChanges)},_processChanges:function(){j(this.changes,function(a){this._processChange(a.record,a.operation)},this),this.changes.length=0},_processChange:function(a,b){{var c=b.path,d=b.op;b.value}if(2===c.length){if("add"===d)return void this._recordWasChanged(a);if("remove"===d)return void this._recordWasDeleted(a)}else{if(3===c.length||4===c.length)return void this._recordWasChanged(a);if(5===c.length){if("add"===d)return void this._linkWasAdded(a,c[3],c[4]);if("remove"===d)return void this._linkWasRemoved(a,c[3],c[4])}}console.log("!!!! unhandled change",c.length,b)},_recordWasDeleted:function(a){var b=a._recordArrays;b&&j(b,function(b){b.removeObject(a)}),a.destroy()},_recordWasChanged:function(a){var b,c=a.constructor.typeKey,d=this.filteredRecordArrays.get(c);d&&j(d,function(d){b=i(d,"filterFunction"),this.updateRecordArray(d,b,c,a)},this)},_linkWasAdded:function(a,b,c){var d=a.constructor.typeKey,e=i(this,"store"),f=i(e,"schema").linkProperties(d,b).model;if(f){var g=e.retrieve(f,c),h=i(a,b);h&&g&&h.addObject(g)}},_linkWasRemoved:function(a,b,c){var d=a.constructor.typeKey,e=i(this,"store"),f=i(e,"schema").linkProperties(d,b).model;if(f){var g=e.retrieve(f,c),h=i(a,b);h&&g&&h.removeObject(g)}},updateRecordArray:function(a,b,c,d){var e;e=b?b(d):!0,e?a.addObject(d):a.removeObject(d)},updateFilter:function(a,b,c){for(var d,e=this.store.retrieve(b),f=0,g=e.length;g>f;f++)d=e[f],i(d,"isDeleted")||this.updateRecordArray(a,c,b,d)},createRecordArray:function(a){var b=g.create({type:a,content:Ember.A(),store:this.store});return this.registerFilteredRecordArray(b,a),b},createFilteredRecordArray:function(a,b,c){var d=h.create({query:c,type:a,content:Ember.A(),store:this.store,manager:this,filterFunction:b});return this.registerFilteredRecordArray(d,a,b),d},registerFilteredRecordArray:function(a,b,c){var d=this.filteredRecordArrays.get(b);d.push(a),this.updateFilter(a,b,c)},willDestroy:function(){this._super(),f(d(this.filteredRecordArrays.values)).forEach(e)}});c["default"]=k}),b("ember-orbit/record-arrays/filtered-record-array",["./record-array","exports"],function(a,b){"use strict";var c=a["default"],d=Ember.get,e=c.extend({filterFunction:null,replace:function(){var a=d(this,"type").toString();throw new Error("The result of a client-side filter (on "+a+") is immutable.")},_updateFilter:function(){var a=d(this,"manager");a.updateFilter(this,d(this,"type"),d(this,"filterFunction"))},updateFilter:Ember.observer(function(){Ember.run.once(this,this._updateFilter)},"filterFunction")});b["default"]=e}),b("ember-orbit/record-arrays/record-array",["exports"],function(a){"use strict";var b=Ember.get,c=(Ember.set,Ember.EnumerableUtils.forEach),d=Ember.ArrayProxy.extend(Ember.Evented,{init:function(){this._super(),this._recordsAdded(b(this,"content"))},willDestroy:function(){this._recordsRemoved(b(this,"content")),this._super()},type:null,store:null,addObject:function(a){b(this,"content").addObject(a),this._recordAdded(a)},removeObject:function(a){b(this,"content").removeObject(a),this._recordRemoved(a)},_recordAdded:function(a){this._recordArraysForRecord(a).add(this)},_recordRemoved:function(a){this._recordArraysForRecord(a).remove(this)},_recordsAdded:function(a){c(a,function(a){this._recordAdded(a)},this)},_recordsRemoved:function(a){c(a,function(a){this._recordRemoved(a)},this)},_recordArraysForRecord:function(a){return a._recordArrays=a._recordArrays||Ember.OrderedSet.create(),a._recordArrays}});a["default"]=d}),b("ember-orbit/schema",["orbit-common/schema","ember-orbit/fields/key","orbit/lib/uuid","exports"],function(a,b,c,d){"use strict";var e=a["default"],f=(b["default"],c.uuid,Ember.get),g=function(a,b,c){var d="_"+b;return function(e,f){return arguments.length>1&&(this[d]=f,this[a]&&(this[a][b]=f)),this[d]||(this[d]=c),this[d]}.property()},h=Ember.Object.extend({pluralize:g("_schema","pluralize"),singularize:g("_schema","singularize"),init:function(){this._super.apply(this,arguments),this._modelTypeMap={};var a={modelDefaults:{}},b=this.get("pluralize");b&&(a.pluralize=b);var c=this.get("singularize");c&&(a.singularize=c),this._schema=new e(a)},defineModel:function(a,b){var c=this._schema.models;c[a]||this._schema.registerModel(a,{keys:f(b,"keys"),attributes:f(b,"attributes"),links:f(b,"links")})},modelFor:function(a){Ember.assert("`type` must be a string","string"==typeof a);var b=this._modelTypeMap[a];if(!b){if(b=this.container.lookupFactory("model:"+a),!b)throw new Ember.Error("No model was found for '"+a+"'");b.typeKey=a,this.defineModel(a,b),this._modelTypeMap[a]=b,this.links(a).forEach(function(b){this.modelFor(this.linkProperties(a,b).model)},this)}return b},models:function(){return Object.keys(this._schema.models)},primaryKey:function(a){return this._schema.models[a].primaryKey.name},primaryKeyProperties:function(a){return this._schema.models[a].primaryKey},keys:function(a){return Object.keys(this._schema.models[a].keys)},keyProperties:function(a,b){return this._schema.models[a].keys[b]},attributes:function(a){return Object.keys(this._schema.models[a].attributes)},attributeProperties:function(a,b){return this._schema.models[a].attributes[b]},links:function(a){return Object.keys(this._schema.models[a].links)},linkProperties:function(a,b){return this._schema.models[a].links[b]},normalize:function(a,b){this.links(a).forEach(function(a){b.__rel||(b.__rel={});var c=b[a];if(c){if(Ember.isArray(c)){var d=b.__rel[a]={};c.forEach(function(a){"object"==typeof a&&(a=a.primaryId),d[a]=!0})}else b.__rel[a]="object"==typeof c?c.primaryId:c;delete b[a]}}),this._schema.normalize(a,b)}});d["default"]=h}),b("ember-orbit/source",["./schema","orbit-common/source","exports"],function(a,b,c){"use strict";var d=(a["default"],b["default"]),e=Ember.get,f=Ember.set,g=Ember.Object.extend({orbitSourceClass:null,orbitSourceOptions:null,schema:null,init:function(){this._super.apply(this,arguments);var a=e(this,"orbitSourceClass");a&&a.wrappedFunction&&(a=a.wrappedFunction);var b=e(this,"schema");if(!b){var c=e(this,"container");b=c.lookup("schema:main"),f(this,"schema",b)}var g=e(b,"_schema"),h=e(this,"orbitSourceOptions");this.orbitSource=new a(g,h),Ember.assert("orbitSource must be an instance of an `OC.Source`",this.orbitSource instanceof d)}});c["default"]=g}),b("ember-orbit/store",["./source","./model","./record-array-manager","orbit-common/memory-source","exports"],function(a,b,c,d,e){"use strict";function f(a,b){return l.create({promise:k.cast(a,b)})}var g=a["default"],h=(b["default"],c["default"]),i=d["default"],j=Ember.get,k=(Ember.set,Ember.RSVP.Promise),l=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin),m=g.extend({orbitSourceClass:i,schema:null,init:function(){this._super.apply(this,arguments),this.typeMaps={},this.orbitSource.on("didTransform",this._didTransform,this),this._requests=Ember.OrderedSet.create(),this._recordArrayManager=h.create({store:this})},then:function(a,b){return Ember.RSVP.all(this._requests.toArray()).then(a,b)},willDestroy:function(){this.orbitSource.off("didTransform",this.didTransform,this),this._recordArrayManager.destroy(),this._super.apply(this,arguments)},typeMapFor:function(a){var b=this.typeMaps[a];return b?b:(b={records:{},type:a},this.typeMaps[a]=b,b)},transform:function(a){return this.orbitSource.transform(a)},all:function(a){this._verifyType(a);var b=this.typeMapFor(a),c=b.findAllCache;if(c)return c;var d=this._recordArrayManager.createRecordArray(a);return b.findAllCache=d,d},filter:function(a,b,c){this._verifyType(a);var d,e,g=arguments.length,h=3===g;return h?d=this.find(a,b):2===g&&(c=b),e=h?this._recordArrayManager.createFilteredRecordArray(a,c,b):this._recordArrayManager.createFilteredRecordArray(a,c),d=d||k.cast(e),f(d.then(function(){return e},null,"OE: Store#filter of "+a))},find:function(a,b){var c=this;this._verifyType(a);var d=this.orbitSource.find(a,b).then(function(b){return c._lookupFromData(a,b)});return this._request(d)},add:function(a,b){var c=this;this._verifyType(a),b=b||{},j(this,"schema").normalize(a,b);var d=this.orbitSource.add(a,b).then(function(b){return c._lookupFromData(a,b)});return this._request(d)},remove:function(a,b){this._verifyType(a),b=this._normalizeId(b);var c=this.orbitSource.remove(a,b);return this._request(c)},patch:function(a,b,c,d){this._verifyType(a),b=this._normalizeId(b);var e=this.orbitSource.patch(a,b,c,d);return this._request(e)},addLink:function(a,b,c,d){this._verifyType(a),b=this._normalizeId(b),d=this._normalizeId(d);var e=this.orbitSource.addLink(a,b,c,d);return this._request(e)},removeLink:function(a,b,c,d){this._verifyType(a),b=this._normalizeId(b),d=this._normalizeId(d);var e=this.orbitSource.removeLink(a,b,c,d);return this._request(e)},findLink:function(a,b,c){var d=this;this._verifyType(a),b=this._normalizeId(b);var e=j(this,"schema").linkProperties(a,c).model;this._verifyType(e);var f=this.orbitSource.findLink(a,b,c).then(function(a){return d._lookupFromData(e,a)});return this._request(f)},findLinked:function(a,b,c){var d=this;this._verifyType(a),b=this._normalizeId(b);var e=j(this,"schema").linkProperties(a,c).model;this._verifyType(e);var f=this.orbitSource.findLinked(a,b,c).then(function(a){return d._lookupFromData(e,a)});return this._request(f)},retrieve:function(a,b){this._verifyType(a);var c;return 1===arguments.length?c=Object.keys(this.orbitSource.retrieve([a])):Ember.isArray(b)&&(c=b),c?this._lookupRecords(a,c):(b=this._normalizeId(b),this.orbitSource.retrieve([a,b])?this._lookupRecord(a,b):void 0)},retrieveKey:function(a,b,c){return this._verifyType(a),b=this._normalizeId(b),this.orbitSource.retrieve([a,b,c])},retrieveAttribute:function(a,b,c){return this._verifyType(a),b=this._normalizeId(b),this.orbitSource.retrieve([a,b,c])},retrieveLink:function(a,b,c){this._verifyType(a),b=this._normalizeId(b);var d=j(this,"schema").linkProperties(a,c).model;this._verifyType(d);var e=this.orbitSource.retrieve([a,b,"__rel",c]);return d&&e?this.retrieve(d,e):void 0},retrieveLinks:function(a,b,c){this._verifyType(a),b=this._normalizeId(b);var d=j(this,"schema").linkProperties(a,c).model;this._verifyType(d);var e=Object.keys(this.orbitSource.retrieve([a,b,"__rel",c]));return d&&Ember.isArray(e)&&e.length>0?this.retrieve(d,e):void 0},unload:function(a,b){this._verifyType(a),b=this._normalizeId(b);var c=this.typeMapFor(a);delete c.records[b]},_verifyType:function(a){Ember.assert("`type` must be registered as a model in the container",j(this,"schema").modelFor(a))},_didTransform:function(a){var b=(a.op,a.path),c=(a.value,this._lookupRecord(b[0],b[1]));if(3===b.length)c.propertyDidChange(b[2]);else if(4===b.length){var d=b[3],e=this.retrieveLink(b[0],b[1],d);c.set(d,e)}this._recordArrayManager.recordDidChange(c,a)},_lookupRecord:function(a,b){var c=this.typeMapFor(a);b=this._normalizeId(b);var d=c.records[b];if(void 0===d){var e=j(this,"schema").modelFor(a);d=e._create(this,b),c.records[b]=d}return d},_lookupRecords:function(a,b){var c=this;return b.map(function(b){return c._lookupRecord(a,b)})},_lookupFromData:function(a,b){if(Ember.isNone(b))return null;var c=j(this,"schema").primaryKey(a);if(Ember.isArray(b)){var d=b.map(function(a){return a[c]});return this._lookupRecords(a,d)}return this._lookupRecord(a,b[c])},_request:function(a){var b=this._requests;return b.add(a),a.finally(function(){b.remove(a)})},_normalizeId:function(a){return null!==a&&"object"==typeof a?a.primaryId:a}});e["default"]=m}),a.EO=c("ember-orbit")["default"]}(window);